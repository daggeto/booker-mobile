!function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){var i=e[s][1][t];return o(i?i:t)},p,p.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";var n=function(){function t(t){this.id=t,this.id=t}return t.prototype.toString=function(){return"<App ["+this.id+"]>"},t}();i.App=n},{}],2:[function(t,e,i){"use strict";function n(t){var e=[];try{e=t.response.body.error.details}catch(i){}return e}var o=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=t("./errors"),s=t("./promise"),a=function(){function t(t,e){this.label=e,this.storage=t.storage}return t.prototype.get=function(){return this.storage.get(this.label)},t.prototype.store=function(t){this.storage.set(this.label,t)},t.prototype["delete"]=function(){this.storage.remove(this.label)},t}();i.AuthTokenContext=a;var u=function(){function t(t,e){this.label=e,this.storage=t.storage,this.tempStorage=t.tempStorage}return t.prototype.get=function(){var t=this.storage.get(this.label),e=this.tempStorage.get(this.label),i=e||t;return i},t.prototype.store=function(t,e){void 0===e&&(e={permanent:!0}),e.permanent?this.storage.set(this.label,t):this.tempStorage.set(this.label,t)},t.prototype["delete"]=function(){this.storage.remove(this.label),this.tempStorage.remove(this.label)},t}();i.CombinedAuthTokenContext=u;var c=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.emitter=t.emitter,this.authModules=t.authModules,this.tokenContext=t.tokenContext,this.userService=t.userService}return t.prototype.isAuthenticated=function(){var t=this.tokenContext.get();return!!t},t.prototype.login=function(t,e,i){var n=this;void 0===i&&(i={remember:!0});var o=this.authModules[t];if(!o)throw new Error("Authentication class is invalid or missing:"+o);return o.authenticate(e).then(function(t){return n.storeToken(i,t),n.userService.load().then(function(){var t=n.userService.current();return t.store(),t})})},t.prototype.signup=function(t){var e=this.authModules.basic;if(!e)throw new Error("Authentication class is invalid or missing:"+e);return e.signup.apply(e,[t])},t.prototype.logout=function(){this.tokenContext["delete"]();var t=this.userService.current();t.unstore(),t.clear()},t.prototype.getToken=function(){return this.tokenContext.get()},t.prototype.storeToken=function(t,e){void 0===t&&(t={remember:!0});var i=this.authToken;this.authToken=e,this.tokenContext.store(this.authToken,{permanent:t.remember}),this.emitter.emit("auth:token-changed",{old:i,"new":this.authToken})},t}();i.Auth=c;var p=function(){function t(t){this.config=t.config,this.client=t.client}return t.prototype.inAppBrowserFlow=function(t,e){void 0===e&&(e={});var i=new s.DeferredPromise;if(window&&window.cordova&&window.cordova.InAppBrowser){var n=t.uri_method?t.uri_method:"POST",o=t.provider?"/"+t.provider:"";this.client.request(n,"/auth/login"+o).send({app_id:this.config.get("app_id"),callback:t.callback_uri||window.location.href,data:e}).end(function(t,e){if(t)i.reject(t);else{var n=e.body.data.url,o=window.cordova.InAppBrowser.open(n,"_blank","location=no,clearcache=yes,clearsessioncache=yes");o.addEventListener("loadstart",function(t){if("http://auth.ionic.io"===t.url.slice(0,20)){for(var e=t.url.split("#")[0].split("?")[1],n=e.split("&"),r={},s=0;s<n.length;s++){var a=n[s].split("=");r[a[0]]=a[1]}o.close(),o=null,i.resolve(r.token)}})}})}else i.reject(new Error("InAppBrowser plugin missing"));return i.promise},t}();i.AuthType=p;var h=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){var e=new s.DeferredPromise;return t.email&&t.password?this.client.post("/auth/login").send({app_id:this.config.get("app_id"),email:t.email,password:t.password}).end(function(t,i){t?e.reject(t):e.resolve(i.body.data.token)}):e.reject(new Error("email and password are required for basic authentication")),e.promise},e.prototype.signup=function(t){var e=new s.DeferredPromise,i={app_id:this.config.get("app_id"),email:t.email,password:t.password};return t.username&&(i.username=t.username),t.image&&(i.image=t.image),t.name&&(i.name=t.name),t.custom&&(i.custom=t.custom),this.client.post("/users").send(i).end(function(t,i){if(t){var o=[],s=n(t);if(s instanceof Array)for(var a=0;a<s.length;a++){var u=s[a];"object"==typeof u&&u.error_type&&o.push(u.error_type+"_"+u.parameter)}e.reject(new r.DetailedError("Error creating user",o))}else e.resolve()}),e.promise},e}(p);i.BasicAuth=h;var l=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"custom"},t)},e}(p);i.CustomAuth=l;var d=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"twitter"},t)},e}(p);i.TwitterAuth=d;var f=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"facebook"},t)},e}(p);i.FacebookAuth=f;var g=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"github"},t)},e}(p);i.GithubAuth=g;var y=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"google"},t)},e}(p);i.GoogleAuth=y;var v=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"instagram"},t)},e}(p);i.InstagramAuth=v;var m=function(t){function e(){t.apply(this,arguments)}return o(e,t),e.prototype.authenticate=function(t){return void 0===t&&(t={}),this.inAppBrowserFlow({provider:"linkedin"},t)},e}(p);i.LinkedInAuth=m},{"./errors":10,"./promise":15}],3:[function(t,e,i){"use strict";var n=t("superagent"),o=function(){function t(t,e,i){this.tokenContext=t,this.baseUrl=e,"undefined"==typeof i&&(i=n),this.req=i}return t.prototype.get=function(t){return this.supplement(this.req.get,t)},t.prototype.post=function(t){return this.supplement(this.req.post,t)},t.prototype.put=function(t){return this.supplement(this.req.put,t)},t.prototype.patch=function(t){return this.supplement(this.req.patch,t)},t.prototype["delete"]=function(t){return this.supplement(this.req["delete"],t)},t.prototype.request=function(t,e){return this.supplement(this.req.bind(this.req,t),e)},t.prototype.supplement=function(t,e){if("/"!==e.substring(0,1))throw Error("endpoint must start with leading slash");var i=t(this.baseUrl+e),n=this.tokenContext.get();return n&&i.set("Authorization","Bearer "+n),i},t}();i.Client=o},{superagent:24}],4:[function(t,e,i){"use strict";var n=function(){function t(){this.urls={api:"https://api.ionic.io"}}return t.prototype.register=function(t){this.settings=t},t.prototype.get=function(t){return this.settings?this.settings[t]:void 0},t.prototype.getURL=function(t){var e=this.settings&&this.settings.urls||{};return e[t]?e[t]:this.urls[t]},t}();i.Config=n},{}],5:[function(t,e,i){"use strict";var n=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.device=t.device,this.emitter=t.emitter,this.logger=t.logger}return t.prototype.bootstrap=function(){var t=this,e=["pause","resume"];document.addEventListener("deviceready",function(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];t.emitter.emit("cordova:deviceready",{args:i});for(var o=function(e){document.addEventListener(e,function(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];t.emitter.emit("cordova:"+e,{args:i})},!1)},r=0,s=e;r<s.length;r++){var a=s[r];o(a)}},!1),this.load()},t.prototype.load=function(){if(!this.isAvailable()){var t=document.createElement("script"),e="cordova.js";switch(this.device.deviceType){case"android":"file"===window.location.href.substring(0,4)&&(e="file:///android_asset/www/cordova.js");break;case"ipad":case"iphone":try{var i=window.location.search.match(/cordova_js_bootstrap_resource=(.*?)(&|#|$)/i);i&&(e=decodeURI(i[1]))}catch(n){this.logger&&(this.logger.info("Ionic Cordova: could not find cordova_js_bootstrap_resource query param"),this.logger.info("Ionic Cordova:",n))}}t.setAttribute("src",e),document.head.appendChild(t),this.logger&&this.logger.info("Ionic Cordova: injecting cordova.js")}},t.prototype.isAvailable=function(){if(this.logger&&this.logger.info("Ionic Cordova: searching for cordova.js"),"undefined"!=typeof cordova)return this.logger&&this.logger.info("Ionic Cordova: cordova.js has already been loaded"),!0;for(var t=document.getElementsByTagName("script"),e=t.length,i=0;e>i;i++){var n=t[i].getAttribute("src");if(n){var o=n.split("/"),r=0;try{if(r=o.length,"cordova.js"===o[r-1])return this.logger&&this.logger.info("Ionic Cordova: cordova.js has previously been included."),!0}catch(s){this.logger&&this.logger.info("Ionic Cordova: encountered error while testing for cordova.js presence, "+s.toString())}}}return!1},t}();i.Cordova=n},{}],6:[function(t,e,i){"use strict";var n=function(){function t(t,e){this.cfg=e,this._version="0.8.0-beta.12",this.config=t.config,this.logger=t.logger,this.emitter=t.emitter,this.insights=t.insights,this.registerEventHandlers(),this.insights.track("mobileapp.opened")}return Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),t.prototype.registerEventHandlers=function(){var t=this;this.emitter.on("cordova:resume",function(e){t.insights.track("mobileapp.opened")}),this.emitter.on("push:notification",function(e){(e.message.app.asleep||e.message.app.closed)&&t.insights.track("mobileapp.opened.push")})},t}();i.Core=n},{}],7:[function(t,e,i){"use strict";var n=t("../promise"),o=new Error("Missing deploy plugin: `ionic-plugin-deploy`"),r=5e3,s=6e4,a=function(){function t(t,e){var i=this;void 0===e&&(e={}),this._channelTag="production",this.config=t.config,this.emitter=t.emitter,this.logger=t.logger,this.emitter.once("device:ready",function(){i._getPlugin()&&i._plugin.init(i.config.get("app_id"),i.config.getURL("api")),i.emitter.emit("deploy:ready")})}return t.prototype._getPlugin=function(){return"undefined"==typeof window.IonicDeploy?void this.logger.warn("Ionic Deploy: Disabled! Deploy plugin is not installed or has not loaded. Have you run `ionic plugin add ionic-plugin-deploy` yet?"):(this._plugin||(this._plugin=window.IonicDeploy),this._plugin)},t.prototype.check=function(){var t=this,e=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){t._getPlugin()?t._plugin.check(t.config.get("app_id"),t._channelTag,function(i){i&&"true"===i?(t.logger.info("Ionic Deploy: an update is available"),e.resolve(!0)):(t.logger.info("Ionic Deploy: no updates available"),e.resolve(!1))},function(i){t.logger.error("Ionic Deploy: encountered an error while checking for updates"),e.reject(i)}):e.reject(o)}),e.promise},t.prototype.download=function(t){var e=this;void 0===t&&(t={});var i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e._plugin.download(e.config.get("app_id"),function(n){"true"!==n&&"false"!==n?t.onProgress&&t.onProgress(n):("true"===n&&e.logger.info("Ionic Deploy: download complete"),i.resolve("true"===n))},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.extract=function(t){var e=this;void 0===t&&(t={});var i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e._plugin.extract(e.config.get("app_id"),function(n){"done"!==n?t.onProgress&&t.onProgress(n):("true"===n&&e.logger.info("Ionic Deploy: extraction complete"),i.resolve("true"===n))},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.load=function(){var t=this;this.emitter.once("deploy:ready",function(){t._getPlugin()&&t._plugin.redirect(t.config.get("app_id"))})},t.prototype.watch=function(t){function e(){i.check().then(function(t){t&&i.emitter.emit("deploy:update-ready")},function(t){i.logger.info("Ionic Deploy: unable to check for updates: "+t)}),this._checkTimeout&&(this._checkTimeout=setTimeout(e.bind(i),t.interval))}void 0===t&&(t={});var i=this;t.initialDelay||(t.initialDelay=r),t.interval||(t.interval=s),this._checkTimeout=setTimeout(e.bind(i),t.initialDelay)},t.prototype.unwatch=function(){clearTimeout(this._checkTimeout),this._checkTimeout=null},t.prototype.info=function(){var t=this,e=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){t._getPlugin()?t._plugin.info(t.config.get("app_id"),function(t){e.resolve(t)},function(t){e.reject(t)}):e.reject(o)}),e.promise},t.prototype.getVersions=function(){var t=this,e=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){t._getPlugin()?t._plugin.getVersions(t.config.get("app_id"),function(t){e.resolve(t)},function(t){e.reject(t)}):e.reject(o)}),e.promise},t.prototype.deleteVersion=function(t){var e=this,i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e._plugin.deleteVersion(e.config.get("app_id"),t,function(t){i.resolve(t)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.getMetadata=function(t){var e=this,i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e._plugin.getMetadata(e.config.get("app_id"),t,function(t){i.resolve(t.metadata)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t.prototype.setChannel=function(t){this._channelTag=t},t.prototype.update=function(t){var e=this;void 0===t&&(t={});var i=new n.DeferredPromise;return this.emitter.once("deploy:ready",function(){e._getPlugin()?e.check().then(function(n){if(n===!0){var o=0;e.download({onProgress:function(e){o=e/2,t.onProgress&&t.onProgress(o)}}).then(function(n){n||i.reject(new Error("Error while downloading")),e.extract({onProgress:function(e){t.onProgress&&t.onProgress(o+e/2)}}).then(function(n){n||i.reject(new Error("Error while extracting")),t.deferLoad?i.resolve(!0):(i.resolve(!0),e._plugin.redirect(e.config.get("app_id")))},function(t){i.reject(t)})},function(t){i.reject(t)})}else i.resolve(!1)},function(t){i.reject(t)}):i.reject(o)}),i.promise},t}();i.Deploy=a},{"../promise":15}],8:[function(t,e,i){"use strict";var n=function(){function t(t){this.deps=t,this.emitter=this.deps.emitter,this.deviceType=this.determineDeviceType(),this.registerEventHandlers()}return t.prototype.registerEventHandlers=function(){var t=this;"unknown"===this.deviceType?this.emitter.emit("device:ready"):this.emitter.once("cordova:deviceready",function(){t.emitter.emit("device:ready")})},t.prototype.isAndroid=function(){return"android"===this.deviceType},t.prototype.isIOS=function(){return"iphone"===this.deviceType||"ipad"===this.deviceType},t.prototype.isConnectedToNetwork=function(t){if(void 0===t&&(t={}),"undefined"==typeof navigator.connection||"undefined"==typeof navigator.connection.type||"undefined"==typeof Connection)return!t.strictMode;switch(navigator.connection.type){case Connection.ETHERNET:case Connection.WIFI:case Connection.CELL_2G:case Connection.CELL_3G:case Connection.CELL_4G:case Connection.CELL:return!0;default:return!1}},t.prototype.determineDeviceType=function(){var t=navigator.userAgent,e=t.match(/iPad/i);if(e&&"ipad"===e[0].toLowerCase())return"ipad";var i=t.match(/iPhone/i);if(i&&"iphone"===i[0].toLowerCase())return"iphone";var n=t.match(/Android/i);return n&&"android"===n[0].toLowerCase()?"android":"unknown"},t}();i.Device=n},{}],9:[function(t,e,i){"use strict";function n(t,e,i){var n=i.get;i.get=function(){if("undefined"==typeof w[e]){var t=n.apply(this,arguments);w[e]=t}return w[e]},i.set=function(t){}}var o=this&&this.__decorate||function(t,e,i,n){var o,r=arguments.length,s=3>r?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(3>r?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},s=t("./auth"),a=t("./app"),u=t("./client"),c=t("./config"),p=t("./cordova"),h=t("./core"),l=t("./deploy/deploy"),d=t("./device"),f=t("./events"),g=t("./insights"),y=t("./logger"),v=t("./push/push"),m=t("./storage"),b=t("./user/user"),w={},_=function(){function t(){}return Object.defineProperty(t.prototype,"config",{get:function(){return new c.Config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventEmitter",{get:function(){return new f.EventEmitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return new y.Logger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){var t=this.config,e=new a.App(t.get("app_id"));return e.gcmKey=t.get("gcm_key"),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localStorageStrategy",{get:function(){return new m.LocalStorageStrategy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sessionStorageStrategy",{get:function(){return new m.SessionStorageStrategy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authTokenContext",{get:function(){var t="ionic_io_auth_"+this.config.get("app_id");return new s.CombinedAuthTokenContext({storage:this.localStorageStrategy,tempStorage:this.sessionStorageStrategy},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"client",{get:function(){return new u.Client(this.authTokenContext,this.config.getURL("api"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insights",{get:function(){return new g.Insights({app:this.app,client:this.client,logger:this.logger},{intervalSubmit:6e4})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"core",{get:function(){return new h.Core({config:this.config,logger:this.logger,emitter:this.eventEmitter,insights:this.insights})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"device",{get:function(){return new d.Device({emitter:this.eventEmitter})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cordova",{get:function(){return new p.Cordova({device:this.device,emitter:this.eventEmitter,logger:this.logger})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return new m.Storage({strategy:this.localStorageStrategy})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userContext",{get:function(){return new b.UserContext({storage:this.storage,config:this.config})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleUserService",{get:function(){return new b.SingleUserService({client:this.client,context:this.userContext})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authModules",{get:function(){return{basic:new s.BasicAuth({config:this.config,client:this.client}),custom:new s.CustomAuth({config:this.config,client:this.client}),twitter:new s.TwitterAuth({config:this.config,client:this.client}),facebook:new s.FacebookAuth({config:this.config,client:this.client}),github:new s.GithubAuth({config:this.config,client:this.client}),google:new s.GoogleAuth({config:this.config,client:this.client}),instagram:new s.InstagramAuth({config:this.config,client:this.client}),linkedin:new s.LinkedInAuth({config:this.config,client:this.client})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"auth",{get:function(){return new s.Auth({emitter:this.eventEmitter,authModules:this.authModules,tokenContext:this.authTokenContext,userService:this.singleUserService})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"push",{get:function(){return new v.Push({config:this.config,app:this.app,auth:this.auth,userService:this.singleUserService,device:this.device,client:this.client,emitter:this.eventEmitter,storage:this.storage,logger:this.logger})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deploy",{get:function(){return new l.Deploy({config:this.config,emitter:this.eventEmitter,logger:this.logger})},enumerable:!0,configurable:!0}),o([n,r("design:type",Object)],t.prototype,"config",null),o([n,r("design:type",Object)],t.prototype,"eventEmitter",null),o([n,r("design:type",Object)],t.prototype,"logger",null),o([n,r("design:type",Object)],t.prototype,"app",null),o([n,r("design:type",Object)],t.prototype,"localStorageStrategy",null),o([n,r("design:type",Object)],t.prototype,"sessionStorageStrategy",null),o([n,r("design:type",Object)],t.prototype,"authTokenContext",null),o([n,r("design:type",Object)],t.prototype,"client",null),o([n,r("design:type",Object)],t.prototype,"insights",null),o([n,r("design:type",Object)],t.prototype,"core",null),o([n,r("design:type",Object)],t.prototype,"device",null),o([n,r("design:type",Object)],t.prototype,"cordova",null),o([n,r("design:type",Object)],t.prototype,"storage",null),o([n,r("design:type",Object)],t.prototype,"userContext",null),o([n,r("design:type",Object)],t.prototype,"singleUserService",null),o([n,r("design:type",Object)],t.prototype,"authModules",null),o([n,r("design:type",Object)],t.prototype,"auth",null),o([n,r("design:type",Object)],t.prototype,"push",null),o([n,r("design:type",Object)],t.prototype,"deploy",null),t}();i.Container=_},{"./app":1,"./auth":2,"./client":3,"./config":4,"./cordova":5,"./core":6,"./deploy/deploy":7,"./device":8,"./events":11,"./insights":13,"./logger":14,"./push/push":17,"./storage":19,"./user/user":21}],10:[function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=function(t){function e(e){t.call(this,e),this.message=e,this.name="Exception",this.stack=(new Error).stack}return n(e,t),e.prototype.toString=function(){return this.name+": "+this.message},e}(Error);i.Exception=o;var r=function(t){function e(e,i){t.call(this,e),this.message=e,this.details=i,this.name="DetailedError"}return n(e,t),e}(o);i.DetailedError=r},{}],11:[function(t,e,i){"use strict";var n=function(){function t(){this.eventHandlers={},this.eventsEmitted={}}return t.prototype.on=function(t,e){"undefined"==typeof this.eventHandlers[t]&&(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.once=function(t,e){var i=this;this.emitted(t)?e():this.on(t,function(){i.emitted(t)||e()})},t.prototype.emit=function(t,e){void 0===e&&(e=null),"undefined"==typeof this.eventHandlers[t]&&(this.eventHandlers[t]=[]),"undefined"==typeof this.eventsEmitted[t]&&(this.eventsEmitted[t]=0);for(var i=0,n=this.eventHandlers[t];i<n.length;i++){var o=n[i];o(e)}this.eventsEmitted[t]+=1},t.prototype.emitted=function(t){return"undefined"==typeof this.eventsEmitted[t]?0:this.eventsEmitted[t]},t}();i.EventEmitter=n},{}],12:[function(t,e,i){"use strict";var n=t("./auth");i.Auth=n.Auth,i.AuthType=n.AuthType,i.BasicAuth=n.BasicAuth,i.CustomAuth=n.CustomAuth,i.TwitterAuth=n.TwitterAuth,i.FacebookAuth=n.FacebookAuth,i.GithubAuth=n.GithubAuth,i.GoogleAuth=n.GoogleAuth,i.InstagramAuth=n.InstagramAuth,i.LinkedInAuth=n.LinkedInAuth;var o=t("./client");i.Client=o.Client;var r=t("./config");i.Config=r.Config;var s=t("./cordova");i.Cordova=s.Cordova;var a=t("./core");i.Core=a.Core;var u=t("./deploy/deploy");i.Deploy=u.Deploy;var c=t("./device");i.Device=c.Device;var p=t("./di");i.DIContainer=p.Container;var h=t("./events");i.EventEmitter=h.EventEmitter;var l=t("./insights");i.Insights=l.Insights;var d=t("./logger");i.Logger=d.Logger;var f=t("./push/push");i.Push=f.Push;var g=t("./storage");i.Storage=g.Storage,i.LocalStorageStrategy=g.LocalStorageStrategy,i.SessionStorageStrategy=g.SessionStorageStrategy;var y=t("./user/user");i.UserContext=y.UserContext,i.User=y.User,i.SingleUserService=y.SingleUserService},{"./auth":2,"./client":3,"./config":4,"./cordova":5,"./core":6,"./deploy/deploy":7,"./device":8,"./di":9,"./events":11,"./insights":13,"./logger":14,"./push/push":17,"./storage":19,"./user/user":21}],13:[function(t,e,i){"use strict";var n=function(){function t(t,e,i){void 0===i&&(i=1),this.appId=t,this.stat=e,this.value=i,this.appId=t,this.stat=e,this.value=i,this.created=new Date}return t.prototype.toJSON=function(){return{app_id:this.appId,stat:this.stat,value:this.value,created:this.created.toISOString()}},t}();i.Stat=n;var o=function(){function t(e,i){var n=this;void 0===i&&(i={}),this.options=i,this.submitCount=t.SUBMIT_COUNT,this.app=e.app,this.client=e.client,this.logger=e.logger,this.batch=[],i.intervalSubmit&&setInterval(function(){n.submit()},i.intervalSubmit),i.submitCount&&(this.submitCount=i.submitCount)}return t.prototype.track=function(t,e){void 0===e&&(e=1),this.trackStat(new n(this.app.id,t,e))},t.prototype.trackStat=function(t){this.batch.push(t),this.shouldSubmit()&&this.submit()},t.prototype.shouldSubmit=function(){return this.batch.length>=this.submitCount},t.prototype.submit=function(){var t=this;if(0!==this.batch.length){for(var e=[],i=0,n=this.batch;i<n.length;i++){var o=n[i];e.push(o.toJSON())}this.client.post("/insights").send({insights:e}).end(function(e,i){e?t.logger.error("Ionic Insights: Could not send insights.",e):t.logger.info("Ionic Insights: Sent insights.")}),this.batch=[]}},t.SUBMIT_COUNT=100,t}();i.Insights=o},{}],14:[function(t,e,i){"use strict";var n=function(){function t(){this.silent=!1,this.infofn=console.log.bind(console),this.warnfn=console.warn.bind(console),this.errorfn=console.error.bind(console)}return t.prototype.info=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.silent||this.infofn.apply(this,[t].concat(e))},t.prototype.warn=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.silent||this.warnfn.apply(this,[t].concat(e))},t.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.errorfn.apply(this,[t].concat(e))},t}();i.Logger=n},{}],15:[function(t,e,i){"use strict";var n=function(){function t(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})}return t}();i.DeferredPromise=n},{}],16:[function(t,e,i){"use strict";var n=function(){function t(){}return t.fromPluginData=function(e){var i=new t;return i.raw=e,i.text=e.message,i.title=e.title,i.count=e.count,i.sound=e.sound,i.image=e.image,i.app={asleep:!e.additionalData.foreground,closed:e.additionalData.coldstart},i.payload=e.additionalData.payload,i},t.prototype.toString=function(){return'<PushMessage ["'+this.title+'"]>'},t}();i.PushMessage=n},{}],17:[function(t,e,i){"use strict";var n=t("../promise"),o=t("./token"),r=t("./message"),s=function(){function t(t,e){return void 0===e&&(e={}),this.blockRegistration=!1,this.blockUnregister=!1,this.blockSaveToken=!1,this.registered=!1,this.app=t.app,this.config=t.config,this.auth=t.auth,this.userService=t.userService,this.device=t.device,this.client=t.client,this.emitter=t.emitter,this.storage=t.storage,this.logger=t.logger,this.app.id?this.device.isAndroid()&&!this.app.gcmKey?void this.logger.error("Ionic Push: GCM project number not found (http://docs.ionic.io/docs/push-android-setup)"):(e.pluginConfig||(e.pluginConfig={}),this.device.isAndroid()&&(e.pluginConfig.android||(e.pluginConfig.android={}),e.pluginConfig.android.senderId||(e.pluginConfig.android.senderID=this.app.gcmKey)),void(this.options=e)):void this.logger.error("Ionic Push: no app_id found. (http://docs.ionic.io/docs/io-install)")}return Object.defineProperty(t.prototype,"token",{get:function(){return this._token||(this._token=new o.PushToken(this.storage.get("ionic_io_push_token").token)),this._token},set:function(t){t?this.storage.set("ionic_io_push_token",{token:t.token}):this.storage["delete"]("ionic_io_push_token"),this._token=t},enumerable:!0,configurable:!0}),t.prototype.saveToken=function(t,e){var i=this;void 0===e&&(e={});var o=new n.DeferredPromise,r={token:t.token,app_id:this.config.get("app_id")};if(!e.ignore_user){var s=this.userService.current();this.auth.isAuthenticated()&&(r.user_id=s.id)}return this.blockSaveToken?o.reject(new Error("A token save operation is already in progress.")):this.client.post("/push/tokens").send(r).end(function(e,n){e?(i.blockSaveToken=!1,i.logger.error("Ionic Push:",e),o.reject(e)):(i.blockSaveToken=!1,i.logger.info("Ionic Push: saved push token: "+t),r.user_id&&i.logger.info("Ionic Push: added push token to user: "+r.user_id),t.saved=!0,o.resolve(t))}),o.promise},t.prototype.register=function(){var t=this,e=new n.DeferredPromise;return this.blockRegistration?e.reject(new Error("Another registration is already in progress.")):(this.blockRegistration=!0,this.emitter.once("device:ready",function(){var i=t._getPushPlugin();i?(t.plugin=i.init(t.options.pluginConfig),t.plugin.on("registration",function(i){t.blockRegistration=!1,t.token=new o.PushToken(i.registrationId),t.token.registered=!0,e.resolve(t.token)}),t._callbackRegistration(),t.registered=!0):e.reject(new Error("Push plugin not found! See logs."))})),e.promise},t.prototype.unregister=function(){var t=this,e=new n.DeferredPromise;if(this.blockUnregister)e.reject(new Error("An unregister operation is already in progress."));else{var i=this.token;if(i){var o={token:i.token,app_id:this.config.get("app_id")};this.plugin&&this.plugin.unregister(function(){},function(){}),this.client.post("/push/tokens/invalidate").send(o).end(function(n,o){t.blockUnregister=!1,n?(t.logger.error("Ionic Push:",n),e.reject(n)):(t.logger.info("Ionic Push: unregistered push token: "+i.token),t.token=null,e.resolve())})}else e.resolve()}return this.blockUnregister=!0,e.promise},t.prototype._callbackRegistration=function(){var t=this;this.plugin.on("registration",function(e){t.token=new o.PushToken(e.registrationId),t.options.debug&&t.logger.info("Ionic Push (debug): device token registered: "+t.token),t.emitter.emit("push:register",{token:e.registrationId})}),this.plugin.on("notification",function(e){var i=r.PushMessage.fromPluginData(e);t.options.debug&&t.logger.info("Ionic Push (debug): notification received: "+i),t.emitter.emit("push:notification",{message:i,raw:e})}),this.plugin.on("error",function(e){t.options.debug&&(t.logger.error("Ionic Push (debug): unexpected error occured."),t.logger.error("Ionic Push:",e)),t.emitter.emit("push:error",{err:e})})},t.prototype._getPushPlugin=function(){var t=window.PushNotification;return t||(this.device.isIOS()||this.device.isAndroid()?this.logger.error("Ionic Push: PushNotification plugin is required. Have you run `ionic plugin add phonegap-plugin-push` ?"):this.logger.warn("Ionic Push: Disabled! Native push notifications will not work in a browser. Run your app on an actual device to use push.")),t},t}();i.Push=s},{"../promise":15,"./message":16,"./token":18}],18:[function(t,e,i){"use strict";var n=function(){function t(t){this.token=t,this.registered=!1,this.saved=!1,this.token=t}return t.prototype.toString=function(){return"<PushToken ["+this.token+"]>"},t}();i.PushToken=n},{}],19:[function(t,e,i){"use strict";var n=function(){function t(){}return t.prototype.get=function(t){return localStorage.getItem(t)},t.prototype.remove=function(t){return localStorage.removeItem(t)},t.prototype.set=function(t,e){return localStorage.setItem(t,e)},t}();i.LocalStorageStrategy=n;var o=function(){function t(){}return t.prototype.get=function(t){return sessionStorage.getItem(t)},t.prototype.remove=function(t){return sessionStorage.removeItem(t)},t.prototype.set=function(t,e){return sessionStorage.setItem(t,e);
},t}();i.SessionStorageStrategy=o;var r=function(){function t(t,e){void 0===e&&(e={cache:!0}),this.options=e,this.strategy=t.strategy,this.storageCache={}}return t.prototype.set=function(t,e){var i=JSON.stringify(e);this.strategy.set(t,i),this.options.cache&&(this.storageCache[t]=e)},t.prototype["delete"]=function(t){this.strategy.remove(t),this.options.cache&&delete this.storageCache[t]},t.prototype.get=function(t){if(this.options.cache){var e=this.storageCache[t];if(e)return e}var i=this.strategy.get(t);if(!i)return null;try{var n=JSON.parse(i);return this.options.cache&&(this.storageCache[t]=n),n}catch(o){return null}},t}();i.Storage=r},{}],20:[function(t,e,i){"use strict";var n={},o=function(){function t(t){this.data={},this.setProperties(t)}return t.prototype.setProperties=function(t){if(t instanceof Object)for(var e in t)this.data[e]=t[e]},t.prototype.toJSON=function(){var t=this.data;return{__Ionic_DataTypeSchema:t.name,value:t.value}},t.prototype.isValid=function(){return!(!this.data.name||!this.data.value)},t}();i.DataTypeSchema=o;var r=function(){function t(){}return t.get=function(t,e){return n[t]?new n[t](e):!1},t.getMapping=function(){return n},Object.defineProperty(t,"Schema",{get:function(){return o},enumerable:!0,configurable:!0}),t.register=function(t,e){n[t]=e},t}();i.DataType=r;var s=function(){function t(t){if(this.data=[],t instanceof Array)for(var e in t)this.push(t[e])}return t.prototype.toJSON=function(){var t=this.data,e=new o({name:"UniqueArray",value:t});return e.toJSON()},t.fromStorage=function(e){return new t(e)},t.prototype.push=function(t){-1===this.data.indexOf(t)&&this.data.push(t)},t.prototype.pull=function(t){var e=this.data.indexOf(t);this.data.splice(e,1)},t}();i.UniqueArray=s,r.register("UniqueArray",s)},{}],21:[function(t,e,i){"use strict";var n=t("../promise"),o=t("./data-types"),r=function(){function t(t){this.config=t.config,this.storage=t.storage}return Object.defineProperty(t.prototype,"label",{get:function(){return"ionic_io_user_"+this.config.get("app_id")},enumerable:!0,configurable:!0}),t.prototype.unstore=function(){this.storage["delete"](this.label)},t.prototype.store=function(t){this.storage.set(this.label,t.serializeForStorage())},t.prototype.load=function(t){var e=this.storage.get(this.label);return e?(t.id=e.id,t.data=new s(e.data),t.details=e.details||{},t.fresh=e.fresh,t):void 0},t}();i.UserContext=r;var s=function(){function t(t){void 0===t&&(t={}),this.data={},"object"==typeof t&&(this.data=t,this.deserializerDataTypes())}return t.prototype.deserializerDataTypes=function(){if(this.data)for(var t in this.data)if("object"==typeof this.data[t]&&this.data[t].__Ionic_DataTypeSchema){var e=this.data[t].__Ionic_DataTypeSchema,i=o.DataType.getMapping();i[e]&&(this.data[t]=i[e].fromStorage(this.data[t].value))}},t.prototype.get=function(t,e){return this.data.hasOwnProperty(t)?this.data[t]:0===e||e===!1?e:e||null},t.prototype.set=function(t,e){this.data[t]=e},t.prototype.unset=function(t){delete this.data[t]},t}();i.UserData=s;var a=function(){function t(t){this.details={},this.service=t.service,this.fresh=!0,this._unset={},this.data=new s}return t.prototype.isAnonymous=function(){return!this.id},t.prototype.get=function(t,e){return this.data.get(t,e)},t.prototype.set=function(t,e){return delete this._unset[t],this.data.set(t,e)},t.prototype.unset=function(t){return this._unset[t]=!0,this.data.unset(t)},t.prototype.clear=function(){this.id=null,this.data=new s,this.details={},this.fresh=!0},t.prototype.save=function(){return this._unset={},this.service.save()},t.prototype["delete"]=function(){return this.service["delete"]()},t.prototype.load=function(t){return this.service.load(t)},t.prototype.store=function(){this.service.store()},t.prototype.unstore=function(){this.service.unstore()},t.prototype.serializeForAPI=function(){return{email:this.details.email,password:this.details.password,username:this.details.username,image:this.details.image,name:this.details.name,custom:this.data.data}},t.prototype.serializeForStorage=function(){return{id:this.id,data:this.data.data,details:this.details,fresh:this.fresh}},t.prototype.toString=function(){return"<User ["+(this.isAnonymous()?"anonymous":this.id)+"]>"},t}();i.User=a;var u=function(){function t(t,e){void 0===e&&(e={}),this.config=e,this.client=t.client,this.context=t.context}return t.prototype.current=function(){return this.user||(this.user=this.context.load(new a({service:this}))),this.user||(this.user=new a({service:this})),this.user},t.prototype.store=function(){this.context.store(this.current())},t.prototype.unstore=function(){this.context.unstore()},t.prototype.load=function(t){void 0===t&&(t="self");var e=new n.DeferredPromise,i=this.current();return this.client.get("/users/"+t).end(function(t,n){t?e.reject(t):(i.id=n.body.data.uuid,i.data=new s(n.body.data.custom),i.details=n.body.data.details,i.fresh=!1,e.resolve())}),e.promise},t.prototype["delete"]=function(){var t=new n.DeferredPromise;return this.user.isAnonymous()?t.reject(new Error("User is anonymous and cannot be deleted from the API.")):(this.unstore(),this.client["delete"]("/users/"+this.user.id).end(function(e,i){e?t.reject(e):t.resolve()})),t.promise},t.prototype.save=function(){var t=this,e=new n.DeferredPromise;return this.store(),this.user.isAnonymous()?e.reject(new Error("User is anonymous and cannot be updated in the API. Use load(<id>) or signup a user using auth.")):this.client.patch("/users/"+this.user.id).send(this.user.serializeForAPI()).end(function(i,n){i?e.reject(i):(t.user.fresh=!1,e.resolve())}),e.promise},t}();i.SingleUserService=u},{"../promise":15,"./data-types":20}],22:[function(t,e,i){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}"undefined"!=typeof e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<i.length;o++)if(n=i[o],n===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i){i=i.slice(0);for(var n=0,o=i.length;o>n;++n)i[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],23:[function(t,e,i){e.exports=function(t,e,i){for(var n=0,o=t.length,r=3==arguments.length?i:t[n++];o>n;)r=e.call(null,r,t[n],++n,t);return r}},{}],24:[function(t,e,i){function n(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function r(t){if(!b(t))return t;var e=[];for(var i in t)null!=t[i]&&s(e,i,t[i]);return e.join("&")}function s(t,e,i){return Array.isArray(i)?i.forEach(function(i){s(t,e,i)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}function a(t){for(var e,i,n={},o=t.split("&"),r=0,s=o.length;s>r;++r)i=o[r],e=i.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function u(t){var e,i,n,o,r=t.split(/\r?\n/),s={};r.pop();for(var a=0,u=r.length;u>a;++a)i=r[a],e=i.indexOf(":"),n=i.slice(0,e).toLowerCase(),o=_(i.slice(e+1)),s[n]=o;return s}function c(t){return/[\/+]json\b/.test(t)}function p(t){return t.split(/ *; */).shift()}function h(t){return v(t.split(/ *; */),function(t,e){var i=e.split(/ *= */),n=i.shift(),o=i.shift();return n&&o&&(t[n]=o),t},{})}function l(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var i=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new l(i)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,t.rawResponse=i.xhr&&i.xhr.responseText?i.xhr.responseText:null,t.statusCode=i.xhr&&i.xhr.status?i.xhr.status:null,i.callback(t)}if(i.emit("response",e),t)return i.callback(t,e);if(e.status>=200&&e.status<300)return i.callback(t,e);var o=new Error(e.statusText||"Unsuccessful HTTP response");o.original=t,o.response=e,o.status=e.status,i.callback(o,e)})}function f(t,e){var i=w("DELETE",t);return e&&i.end(e),i}var g,y=t("emitter"),v=t("reduce"),m=t("./request-base"),b=t("./is-object");g="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var w=e.exports=t("./request").bind(null,d);w.getXHR=function(){if(!(!g.XMLHttpRequest||g.location&&"file:"==g.location.protocol&&g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var _="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};w.serializeObject=r,w.parseString=a,w.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},w.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},l.prototype.get=function(t){return this.header[t.toLowerCase()]},l.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=p(e);var i=h(e);for(var n in i)this[n]=i[n]},l.prototype.parseBody=function(t){var e=w.parse[this.type];return!e&&c(this.type)&&(e=w.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},l.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},l.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,n="cannot "+e+" "+i+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=e,o.url=i,o},w.Response=l,y(d.prototype);for(var C in m)d.prototype[C]=m[C];d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.type=function(t){return this.set("Content-Type",w.types[t]||t),this},d.prototype.responseType=function(t){return this._responseType=t,this},d.prototype.accept=function(t){return this.set("Accept",w.types[t]||t),this},d.prototype.auth=function(t,e,i){switch(i||(i={type:"basic"}),i.type){case"basic":var n=btoa(t+":"+e);this.set("Authorization","Basic "+n);break;case"auto":this.username=t,this.password=e}return this},d.prototype.query=function(t){return"string"!=typeof t&&(t=r(t)),t&&this._query.push(t),this},d.prototype.attach=function(t,e,i){return this._getFormData().append(t,e,i||e.name),this},d.prototype._getFormData=function(){return this._formData||(this._formData=new g.FormData),this._formData},d.prototype.send=function(t){var e=b(t),i=this._header["content-type"];if(e&&b(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],"application/x-www-form-urlencoded"==i?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||o(t)?this:(i||this.type("json"),this)},l.prototype.parse=function(t){return g.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(t),this},l.prototype.serialize=function(t){return this._parser=t,this},d.prototype.callback=function(t,e){var i=this._callback;this.clearTimeout(),i(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,i=this.xhr=w.getXHR(),r=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||n,i.onreadystatechange=function(){if(4==i.readyState){var t;try{t=i.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(i.onprogress=u);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=u)}catch(p){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),r&&(r=w.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),this.username&&this.password?i.open(this.method,this.url,!0,this.username,this.password):i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var h=this._header["content-type"],l=this._parser||w.serialize[h?h.split(";")[0]:""];!l&&c(h)&&(l=w.serialize["application/json"]),l&&(a=l(a))}for(var d in this.header)null!=this.header[d]&&i.setRequestHeader(d,this.header[d]);return this._responseType&&(i.responseType=this._responseType),this.emit("request",this),i.send("undefined"!=typeof a?a:null),this},w.Request=d,w.get=function(t,e,i){var n=w("GET",t);return"function"==typeof e&&(i=e,e=null),e&&n.query(e),i&&n.end(i),n},w.head=function(t,e,i){var n=w("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},w.del=f,w["delete"]=f,w.patch=function(t,e,i){var n=w("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},w.post=function(t,e,i){var n=w("POST",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n},w.put=function(t,e,i){var n=w("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&n.send(e),i&&n.end(i),n}},{"./is-object":25,"./request":27,"./request-base":26,emitter:22,reduce:23}],25:[function(t,e,i){function n(t){return null!=t&&"object"==typeof t}e.exports=n},{}],26:[function(t,e,i){var n=t("./is-object");i.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},i.parse=function(t){return this._parser=t,this},i.timeout=function(t){return this._timeout=t,this},i.then=function(t,e){return this.end(function(i,n){i?e(i):t(n)})},i.use=function(t){return t(this),this},i.get=function(t){return this._header[t.toLowerCase()]},i.getHeader=i.get,i.set=function(t,e){if(n(t)){for(var i in t)this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},i.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},i.field=function(t,e){return this._getFormData().append(t,e),this}},{"./is-object":25}],27:[function(t,e,i){function n(t,e,i){return"function"==typeof i?new t("GET",e).end(i):2==arguments.length?new t("GET",e):new t(e,i)}e.exports=n},{}],28:[function(t,e,i){"object"==typeof angular&&angular.module&&(angular.element(document).ready(function(){Ionic.cordova.bootstrap()}),angular.module("ionic.cloud",[]).provider("$ionicCloudConfig",function(){var t=Ionic.config;this.register=function(e){if(t.register(e.core),e.logger){var i=Ionic.logger;i.silent=e.logger.silent}},this.$get=function(){return t}}).provider("$ionicCloud",["$ionicCloudConfigProvider",function(t){this.init=function(e){t.register(e)},this.$get=[function(){return Ionic.core}]}]).factory("$ionicCloudLogger",[function(){return Ionic.logger}]).factory("$ionicEventEmitter",[function(){return Ionic.eventEmitter}]).factory("$ionicCloudDevice",[function(){return Ionic.device}]).factory("$ionicCloudCordova",[function(){return Ionic.cordova}]).factory("$ionicCloudClient",[function(){return Ionic.client}]).factory("$ionicSingleUserService",[function(){return Ionic.singleUserService}]).factory("$ionicUser",["$ionicSingleUserService",function(t){return t.current()}]).factory("$ionicAuth",[function(){return Ionic.auth}]).factory("$ionicPush",[function(){return Ionic.push}]).factory("$ionicDeploy",[function(){return Ionic.deploy}]).run([function(){}]))},{}],29:[function(t,e,i){var n=t("./../dist/es5/app").App,o=t("./../dist/es5/core").Core,r=t("./../dist/es5/user/data-types").DataType,s=t("./../dist/es5/deploy/deploy").Deploy,a=t("./../dist/es5/events").EventEmitter,u=t("./../dist/es5/logger").Logger,c=t("./../dist/es5/push/push").Push,p=t("./../dist/es5/push/message").PushMessage,h=t("./../dist/es5/push/token").PushToken,l=t("./../dist/es5/auth"),d=t("./../dist/es5/client"),f=t("./../dist/es5/config"),g=t("./../dist/es5/cordova"),y=t("./../dist/es5/device"),v=t("./../dist/es5/di"),m=t("./../dist/es5/promise"),b=t("./../dist/es5/storage"),w=t("./../dist/es5/user/user");window.Ionic=new v.Container,Ionic.Core=o,Ionic.User=w.User,Ionic.Auth=l.Auth,Ionic.Deploy=s,Ionic.Push=c,Ionic.PushToken=h,Ionic.PushMessage=p,Ionic.DataType=r,Ionic.DataTypes=r.getMapping(),Ionic.Cloud={},Ionic.Cloud.App=n,Ionic.Cloud.AuthType=l.AuthType,Ionic.Cloud.AuthTypes={},Ionic.Cloud.AuthTypes.BasicAuth=l.BasicAuth,Ionic.Cloud.AuthTypes.CustomAuth=l.CustomAuth,Ionic.Cloud.AuthTypes.TwitterAuth=l.TwitterAuth,Ionic.Cloud.AuthTypes.FacebookAuth=l.FacebookAuth,Ionic.Cloud.AuthTypes.GithubAuth=l.GithubAuth,Ionic.Cloud.AuthTypes.GoogleAuth=l.GoogleAuth,Ionic.Cloud.AuthTypes.InstagramAuth=l.InstagramAuth,Ionic.Cloud.AuthTypes.LinkedInAuth=l.LinkedInAuth,Ionic.Cloud.Cordova=g.Cordova,Ionic.Cloud.Client=d.Client,Ionic.Cloud.Device=y.Device,Ionic.Cloud.EventEmitter=a,Ionic.Cloud.Logger=u,Ionic.Cloud.Promise=m.Promise,Ionic.Cloud.DeferredPromise=m.DeferredPromise,Ionic.Cloud.Storage=b.Storage,Ionic.Cloud.UserContext=w.UserContext,Ionic.Cloud.SingleUserService=w.SingleUserService,Ionic.Cloud.AuthTokenContext=l.AuthTokenContext,Ionic.Cloud.CombinedAuthTokenContext=l.CombinedAuthTokenContext,Ionic.Cloud.LocalStorageStrategy=b.LocalStorageStrategy,Ionic.Cloud.SessionStorageStrategy=b.SessionStorageStrategy,Ionic.Cloud.Config=f.Config},{"./../dist/es5/app":1,"./../dist/es5/auth":2,"./../dist/es5/client":3,"./../dist/es5/config":4,"./../dist/es5/cordova":5,"./../dist/es5/core":6,"./../dist/es5/deploy/deploy":7,"./../dist/es5/device":8,"./../dist/es5/di":9,"./../dist/es5/events":11,"./../dist/es5/logger":14,"./../dist/es5/promise":15,"./../dist/es5/push/message":16,"./../dist/es5/push/push":17,"./../dist/es5/push/token":18,"./../dist/es5/storage":19,"./../dist/es5/user/data-types":20,"./../dist/es5/user/user":21}]},{},[29,28,12]);